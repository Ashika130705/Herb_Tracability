{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{Html5QrcodeScanner}from\"html5-qrcode\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const QRScanner=_ref=>{let{onScan}=_ref;const[result,setResult]=useState(\"No result\");const scannerRef=useRef(null);useEffect(()=>{const scanner=new Html5QrcodeScanner(\"qr-reader\",{fps:10,qrbox:250},false);scanner.render(decodedText=>{setResult(decodedText);if(onScan)onScan(decodedText);},errorMessage=>{console.warn(\"QR Scan error:\",errorMessage);});scannerRef.current=scanner;return()=>{if(scannerRef.current){scannerRef.current.clear().catch(err=>console.error(err));}};},[onScan]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginTop:0},children:\"Scan QR Code\"}),/*#__PURE__*/_jsx(\"div\",{id:\"qr-reader\",style:{width:\"320px\",maxWidth:'100%'}}),/*#__PURE__*/_jsxs(\"p\",{className:\"muted\",style:{marginBottom:0},children:[\"Scanned Result: \",result||'No result']})]});};export default QRScanner;","map":{"version":3,"names":["React","useEffect","useRef","useState","Html5QrcodeScanner","jsx","_jsx","jsxs","_jsxs","QRScanner","_ref","onScan","result","setResult","scannerRef","scanner","fps","qrbox","render","decodedText","errorMessage","console","warn","current","clear","catch","err","error","children","style","marginTop","id","width","maxWidth","className","marginBottom"],"sources":["C:/Users/DELL/herb-traceability/src/components/QRScanner.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\r\n\r\nconst QRScanner = ({ onScan }) => {\r\n  const [result, setResult] = useState(\"No result\");\r\n  const scannerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const scanner = new Html5QrcodeScanner(\r\n      \"qr-reader\",\r\n      { fps: 10, qrbox: 250 },\r\n      false\r\n    );\r\n\r\n    scanner.render(\r\n      (decodedText) => {\r\n        setResult(decodedText);\r\n        if (onScan) onScan(decodedText);\r\n      },\r\n      (errorMessage) => {\r\n        console.warn(\"QR Scan error:\", errorMessage);\r\n      }\r\n    );\r\n\r\n    scannerRef.current = scanner;\r\n\r\n    return () => {\r\n      if (scannerRef.current) {\r\n        scannerRef.current.clear().catch((err) => console.error(err));\r\n      }\r\n    };\r\n  }, [onScan]);\r\n\r\n  return (\r\n    <div>\r\n      <h3 style={{ marginTop: 0 }}>Scan QR Code</h3>\r\n      <div id=\"qr-reader\" style={{ width: \"320px\", maxWidth: '100%' }}></div>\r\n      <p className=\"muted\" style={{ marginBottom: 0 }}>Scanned Result: {result || 'No result'}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QRScanner;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,kBAAkB,KAAQ,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElD,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAgB,IAAf,CAAEC,MAAO,CAAC,CAAAD,IAAA,CAC3B,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAC,CAAGV,QAAQ,CAAC,WAAW,CAAC,CACjD,KAAM,CAAAW,UAAU,CAAGZ,MAAM,CAAC,IAAI,CAAC,CAE/BD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,OAAO,CAAG,GAAI,CAAAX,kBAAkB,CACpC,WAAW,CACX,CAAEY,GAAG,CAAE,EAAE,CAAEC,KAAK,CAAE,GAAI,CAAC,CACvB,KACF,CAAC,CAEDF,OAAO,CAACG,MAAM,CACXC,WAAW,EAAK,CACfN,SAAS,CAACM,WAAW,CAAC,CACtB,GAAIR,MAAM,CAAEA,MAAM,CAACQ,WAAW,CAAC,CACjC,CAAC,CACAC,YAAY,EAAK,CAChBC,OAAO,CAACC,IAAI,CAAC,gBAAgB,CAAEF,YAAY,CAAC,CAC9C,CACF,CAAC,CAEDN,UAAU,CAACS,OAAO,CAAGR,OAAO,CAE5B,MAAO,IAAM,CACX,GAAID,UAAU,CAACS,OAAO,CAAE,CACtBT,UAAU,CAACS,OAAO,CAACC,KAAK,CAAC,CAAC,CAACC,KAAK,CAAEC,GAAG,EAAKL,OAAO,CAACM,KAAK,CAACD,GAAG,CAAC,CAAC,CAC/D,CACF,CAAC,CACH,CAAC,CAAE,CAACf,MAAM,CAAC,CAAC,CAEZ,mBACEH,KAAA,QAAAoB,QAAA,eACEtB,IAAA,OAAIuB,KAAK,CAAE,CAAEC,SAAS,CAAE,CAAE,CAAE,CAAAF,QAAA,CAAC,cAAY,CAAI,CAAC,cAC9CtB,IAAA,QAAKyB,EAAE,CAAC,WAAW,CAACF,KAAK,CAAE,CAAEG,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAM,CAAC,cACvEzB,KAAA,MAAG0B,SAAS,CAAC,OAAO,CAACL,KAAK,CAAE,CAAEM,YAAY,CAAE,CAAE,CAAE,CAAAP,QAAA,EAAC,kBAAgB,CAAChB,MAAM,EAAI,WAAW,EAAI,CAAC,EACzF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAH,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}